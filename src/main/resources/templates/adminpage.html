<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Decentralized Bank - Admin</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<link rel="stylesheet" href="./style.css">
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<div class="container">
			<!-- Logo -->

			<a class="navbar-brand fw-normal" href="#"> Decentralized Bank </a>
			<div>
				<a th:text="${username}" class="text-dark text-decoration-none"></a>
				<span><a th:href="@{/logout}"
					class="border border-danger px-2 py-2 rounded-1 text-dark  text-decoration-none">
						Logout <i class="bi bi-arrow-right-circle text-danger"></i>
				</a></span>
			</div>
		</div>
	</nav>
	<hr>

	<div class="header mb-5">
		<div th:if="${param.adminsuccess}" class="alert alert-success">Admin
			Deleted Successfully!</div>
		<div th:if="${param.customersuccess}" class="alert alert-success">Customer
			Deleted Successfully!</div>
		<h4 class="fw-bold">Overview</h4>
		<div class="container">
			<div class="row justify-content-center mt-4 ">
				<div class="col-3 bg-success me-2 p-3 rounded-1 text-white fs-5">
					Total Customers
					<h2 th:text="${allBankCustomerData.size()}"></h2>
				</div>
				<div class="col-3 bg-success me-2 p-3 rounded-1 text-white fs-5">
					Total Bank Deposit
					<h2 th:text="${alldepositamount}"></h2>
				</div>
				<div class="col-3 bg-success me-2 p-3 rounded-1 text-white fs-4 ">
					Total Admins
					<h2 th:text="${data.size()}"></h2>
				</div>
			</div>
		</div>
		<h4 class="fw-bold m-3">All Admins</h4>
		<div class="container mb-5">
			<div class="row">
				<table class="table table-bordered">
					<thead>
						<tr>
							<th scope="col">Sno</th>
							<th scope="col">Id</th>
							<th scope="col">Admin Name</th>
							<th scope="col">EmployeeID</th>
							<th scope="col">Manage</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="adminData, iterStat : ${data}">
							<th th:text="${iterStat.index+1}"></th>
							<th th:text="${adminData.ID}"></th>
							<td th:text="${adminData.username}"></td>
							<td th:text="${adminData.userID}"></td>
							<td><a th:href="@{/delete/{id}(id=${adminData.ID})}"
								class="text-decoration-none text-dark"><i
									class="bi bi-trash3 text-danger"></i></a></td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="row">
				<div class="col">
					<a class="bg-primary p-2 text-decoration-none text-white rounded-2"
						th:href="@{/addAdmin}">Add Admins</a>
				</div>
			</div>
		</div>
		<h4 class="fw-bold mt-5">All Customer Details</h4>
		<div class="container mb-5 mt-5">
			<div class="row">
				<table class="table table-bordered">
					<thead>
						<tr>
							<th scope="col">Sno</th>
							<th scope="col">Id</th>
							<th scope="col">Customer Name</th>
							<th scope="col">Customer A/C No</th>
							<th scope="col">Email</th>
							<th scope="col">Balance</th>
							<th scope="col">Phone Number</th>
							<th scope="col">Account Type</th>
							<th scope="col">City</th>
							<th scope="col">State</th>
							<th scope="col">Password</th>
							<th scope="col">MPIN</th>
							<th scope="col">MTPIN</th>
							<th scope="col">Created</th>
							<th scope="col">LastUpdated</th>
							<th scope="col">Manage</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="customer, iterStat : ${allBankCustomerData}">
							<th th:text="${iterStat.index+1}"></th>
							<th th:text="${customer.id}"></th>
							<td th:text="${customer.customerName}"></td>
							<td th:text="${customer.accountNumber}"></td>
							<td th:text="${customer.email}"></td>
							<td th:text="${customer.balance}"></td>
							<td th:text="${customer.phoneNumber}"></td>
							<td th:text="${customer.accountType}"></td>
							<td th:text="${customer.city}"></td>
							<td th:text="${customer.state}"></td>
							<td th:text="${customer.password}"></td>
							<td th:text="${customer.mpin}"></td>
							<td th:text="${customer.mtpin}"></td>
							<td th:text="${customer.Created}"></td>
							<td th:text="${customer.LastUpdated}"></td>
							<td><a th:href="@{/deletecustomer/{id}(id=${customer.id})}"
								class="text-decoration-none text-dark"><i
									class="bi bi-trash3 text-danger"></i></a></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

	</div>


	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
